---
title: –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∏ 2, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –ø–ª—ä–≥–∏–Ω–∏
author: –ê–Ω–¥—Ä–µ–π –†–∞–¥–µ–≤
speaker: –ê–Ω–¥—Ä–µ–π –†–∞–¥–µ–≤
date: 30 –º–∞–π 2023
lang: bg
keywords: vim,fmi
slide-width: 80%
font-size: 20px
font-family: Cantarell, sans-serif
# code blocks color theme
code-theme: github
---

<style>
code {
    font-size: 100% !important;
    font-variant-ligatures: none;
}
</style>

# –ü—Ä–µ–≥–æ–≤–æ—Ä

* LSP
--
* Fuzzy-finding
--
* Command-line completion
--
* –ö–æ–º–∞–Ω–¥–∏ –∑–∞ —Ç—ä—Ä—Å–µ–Ω–µ –Ω–∞ *–∫–∞—Ç–µ–≥–æ—Ä–∏—è* –æ—Ç –Ω–µ—â–∞

---

# –°–∫–µ–ª–µ—Ç –Ω–∞ –µ–¥–∏–Ω –ø–ª—ä–≥–∏–Ω

* –ê–∑ –±—É–∫–≤–∞–ª–Ω–æ —Å–∏ –∏–º–∞–º —Å–∫—Ä–∏–ø—Ç –∑–∞ —Ç–æ–≤–∞: [`newplugin`](https://github.com/AndrewRadev/scripts/blob/7f48f3d1c79450c50ddc80cd1a2bb8ba65aeb745/bin/newplugin)
--
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: autoload, plugin, doc, –ø–æ–Ω—è–∫–æ–≥–∞ ftplugin
--
* `:help cp`, `:help cpo` -- –¥–Ω–µ—à–Ω–æ –≤—Ä–µ–º–µ –µ–¥–≤–∞ –ª–∏ –∏–º–∞—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–µ –µ –ª–æ—à–∞ –∏–¥–µ—è –¥–∞ —Å–µ –ø–æ–ª–∑–≤–∞—Ç –∫–∞—Ç–æ —á–∞—Å—Ç –æ—Ç "—Å–∫–µ–ª–µ—Ç–∞"
--
* `g:loaded_newplugin` -- –ó–∞ –¥–∞ —Å–µ –ø–æ–¥—Å–∏–≥—É—Ä–∏–º, —á–µ —â–µ —Å–µ –∑–∞—Ä–µ–¥–∏ —Å–∞–º–æ –≤–µ–¥–Ω—ä–∂ –∏ –¥–∞ –¥–∞–¥–µ–º –ª–µ—Å–µ–Ω –Ω–∞—á–∏–Ω –¥–∞ —Å–µ –∏–∑–∫–ª—é—á–∏
--
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏: `g:newplugin_setting` -- –∏–∑–≥–ª–µ–∂–¥–∞ –ø—Ä–æ—Å—Ç–æ, –Ω–æ —Ä–∞–±–æ—Ç–∏ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ

---

# –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ

–ê–∫–æ –∏–º–∞–º–µ –µ–¥–Ω–∞ –∫—É–ø—á–∏–Ω–∞ `b:` –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏, –∑–∞—â–æ –¥–∞ –Ω–µ –≥–∏ —Å—ä–±–µ—Ä–µ–º –≤ –µ–¥–∏–Ω –æ–±–µ–∫—Ç?

```vim
function! fluffy#finder#New()
  let job = job_start('rg --files', ...)

  return #{
        \   statusline:    '',
        \   all_paths:     [],
        \   start_time:    reltime(),
        \   last_update:   reltime(),
        \   duration:      0,
        \   loading:       ['‚¢ø', '‚£ª', '‚£Ω', '‚£æ', '‚£∑', '‚£Ø', '‚£ü', '‚°ø'],
        \   loading_index: 0,
        \   job:           job,
        \ }
endfunction

let b:finder = fluffy#finder#New()
```

---

# –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ: (–Ω–µ—â–æ –∫–∞—Ç–æ) –û–û–ü

`:help func-dict`

```vim
function! fluffy#finder#New()
  return #{
        \   ...
        \   Update: function('s:Update'),
        \   Stop:   function('s:Stop'),
        \ }
endfunction

autocmd TextChangedI <buffer> call b:finder.Update()
autocmd QuitPre      <buffer> call b:finder.Stop()

function s:Update() dict
  " ...
endfunction

function s:Stop() dict
  " ...
endfunction
```

---

# –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ: (–Ω–µ—â–æ –∫–∞—Ç–æ) –û–û–ü

–ù—è–º–∞ –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ –∏–ª–∏ –∫–ª–∞—Å–æ–≤–µ, –Ω–æ –ø—ä–∫ –∏–º–∞ –Ω–∞—á–∏–Ω –¥–∞ —Å—ä–±–µ—Ä–µ—Ç–µ –¥–∞–Ω–Ω–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∏ —Ç–æ–≤–∞ –º–æ–∂–µ –¥–∞ –µ –Ω–∞–ø—ä–ª–Ω–æ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ.

--

–ü—Ä–∏ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –∂–µ–ª–∞–Ω–∏–µ, –º–æ–∂–µ –∏ –¥–∞ —Å–µ –ø–æ—Å—Ç–∏–≥–Ω–µ –Ω—è–∫–∞–∫–≤–∞ —Ñ–æ—Ä–º–∞ –Ω–∞ –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ, –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–∞—Ä—Å—ä—Ä–∏—Ç–µ –≤ [splitjoin](https://github.com/AndrewRadev/splitjoin.vim/tree/c00fa513974811e7bdf34b3d8a53abbd69c9042c/autoload/sj/argparser).

--

–í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ -- `b:finder.Update()` —â–µ –∏–∑–≤–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ —Å—ä—Å `b:finder` –ø—Ä–∏–∫–∞—á–µ–Ω–æ –∫–∞—Ç–æ self. –ù–æ –∞–∫–æ —è –ø–æ–¥–∞–¥–µ—Ç–µ –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç –∏–ª–∏ –ø—Ä–∏–∫–∞—á–∏—Ç–µ –Ω—è–∫—ä–¥–µ, —â–µ –≥—Ä—ä–º–Ω–µ:

```vim
" –©–µ —Ö–≤—ä—Ä–ª–∏ –≥—Ä–µ—à–∫–∞:
let Update = b:finder.Update
call Update()

" –©–µ –±—ä–¥–µ –æ–∫ üëç
let Update = { -> b:finder.Update() }
call Update()
```

---

# –ì—Ä–µ—à–∫–∏ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è

–°—Ç—Ä–∞–Ω–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ Vimscript: –∞–∫–æ –Ω—è–∫–æ–π —Ä–µ–¥ —Ö–≤—ä—Ä–ª–∏ –≥—Ä–µ—à–∫–∞, —Å–∫—Ä–∏–ø—Ç–∞ —Å–º–µ–ª–æ —â–µ —Å–∏ –ø—Ä–æ–¥—ä–ª–∂–∏ –Ω–∞–ø—Ä–µ–¥.

```vim
function! Test()
  if nonexistent_var
    echomsg "OK1"
  endif

  echomsg "OK2"
endfunction

call Test()
```

```
Error detected while processing /tmp/vHfVvdg/9[9]..function Test:
line    1:
E121: Undefined variable: nonexistent_var
OK2
```

---

# –ì—Ä–µ—à–∫–∏ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è

–¢–æ–≤–∞ –µ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –±–µ–∑—Å–º–∏—Å–ª–µ–Ω–æ –∑–∞ general-purpose –µ–∑–∏–∫, –Ω–æ –∏–º–∞ —Å–º–∏—Å—ä–ª –∑–∞ *–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω –µ–∑–∏–∫*, –∫–æ–µ—Ç–æ Vimscript —á–∞—Å—Ç–∏—á–Ω–æ –µ. –ê–∫–æ –∏–º–∞—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ —Å–∏ –µ–¥–Ω–∞ –≥—Ä–µ—à–∫–∞, –Ω–µ –∏—Å–∫–∞—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –¥–∞ –æ—Ç–∫–∞–∂–µ –¥–∞ boot-–Ω–µ... –ó–∞—â–æ—Ç–æ –Ω—è–º–∞ —Å –∫–∞–∫–≤–æ –¥–∞ –æ–ø—Ä–∞–≤–∏—Ç–µ –≥—Ä–µ—à–∫–∞—Ç–∞.

--

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–≤–∞ –Ω—è–º–∞ –º–Ω–æ–≥–æ —Å–º–∏—Å—ä–ª. –ó–∞—Ç–æ–≤–∞ –∏–º–∞ –∞—Ç—Ä–∏–±—É—Ç–∞ `abort` (`:help func-abort`):

```vim
function! Test() abort
  if nonexistent_var
    echomsg "OK1"
  endif

  echomsg "OK2"
endfunction

call Test()
```

```
Error detected while processing /tmp/vHfVvdg/10[9]..function Test:
line    1:
E121: Undefined variable: nonexistent_var
```

---

# –ì—Ä–µ—à–∫–∏ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è

–î–æ–∫–∞—Ç–æ —Å–º–µ –Ω–∞ —Ç–∞–∑–∏ —Ç–µ–º–∞ -- –∑–∞–±–µ–ª–µ–∂–µ—Ç–µ –º–∞–ª–∫–æ —Å—Ç—Ä–∞–Ω–Ω–∏—è backtrace -- "line 1"? –¢–æ–≤–∞ –µ –ø–æ—Ä–µ–¥–Ω–∏—è —Ä–µ–¥ *–≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞* ü§∑.

Nest-–≤–∞–Ω–µ—Ç–æ —Å—ä—â–æ –µ –º–∞–ª–∫–æ —Å—Ç—Ä–∞–Ω–Ω–æ:

```vim
function! Test1() abort
  echomsg "OK0"
  if nonexistent_var | echomsg "OK1" | endif
  echomsg "OK2"
endfunction

function! Test2() abort
  echomsg "OK3"
  call Test1()
endfunction
```
```
OK3
OK0
Error detected while processing function Test2[2]..Test1:
line    2:
E121: Undefined variable: nonexistent_var
```

---

# –ì—Ä–µ—à–∫–∏ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è

–ï–¥–∏–Ω –ø–ª—ä–≥–∏–Ω, –∫–æ–π—Ç–æ —Å–µ –æ–ø–∏—Ç–≤–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏ —Ç–æ–∑–∏ backtrace –ø–æ-–ª–µ—Å–µ–Ω: [exception.vim](https://github.com/tweekmonster/exception.vim). –ù–æ –µ –º–∞–ª–∫–æ –±—ä–≥–∞–≤.

---

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ù—è–º–∞ –µ–¥–∏–Ω –Ω–∞—á–∏–Ω, –Ω–æ –∏–º–∞ –Ω—è–∫–æ–∏ –ø–æ–ª–µ–∑–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

--
* `*myplugin-section*` -- –∑–≤–µ–∑–¥–∏—á–∫–∏—Ç–µ –æ–≥—Ä–∞–∂–¥–∞—Ç –Ω–µ—â–æ, –Ω–∞ –∫–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ —Å–∫–æ—á–∏
--
* `|myplugin-section|` -- —Ç—Ä—ä–±–∏—á–∫–∏—Ç–µ –æ–≥—Ä–∞–∂–¥–∞—Ç –ª–∏–Ω–∫ –∫—ä–º —Ç–æ–≤–∞ –Ω–µ—â–æ
--
* –¢–µ–∑–∏ –æ–≥—Ä–∞–∂–¥–∞—â–∏ —Å–∏–º–≤–æ–ª–∏ —Å–∞ —Å–∫—Ä–∏—Ç–∏ —Å "conceal" (`:help syn-conceal`).
--
* –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è: —Ç–∞–≥–æ–≤–µ. –°–∏–º–≤–æ–ª, —Ñ–∞–π–ª, search pattern, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å `\t` —Å–∏–º–≤–æ–ª–∏. `:help helptags`

---

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

* –ö–æ–¥ –º–æ–∂–µ –¥–∞ —Å–µ –ø–∏—à–µ –≤ backtics, –Ω–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∑–∞ –∫–æ–º–∞–Ω–¥–∏ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –ø–ª—ä–≥–∏–Ω–∞, —Å–µ –ø–æ–ª–∑–≤–∞ `|:Command|`, –∑–∞ –¥–∞ –µ –æ—Å–≤–µ–Ω —Ç–æ–≤–∞ –ª–∏–Ω–∫.
--
* –ú–Ω–æ–≥–æ—Ä–µ–¥–æ–≤ –∫–æ–¥ —Å–µ –∑–∞–ø–æ—á–≤–∞ —Å `>` –∏ –∑–∞–≤—ä—Ä—à–≤–∞ —Å `<` –Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω —Ä–µ–¥, –∫–∞—Ç–æ –º–µ–∂–¥—É —Ç—è—Ö —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ –∏–Ω–¥–µ–Ω—Ç–∞—Ü–∏—è
--
* –ì–æ–ª—è–º–æ –∑–∞–≥–ª–∞–≤–∏–µ –µ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ —Ä–µ–¥, `UPPERCASE`, –º–∞–ª–∫–æ –∑–∞–≥–ª–∞–≤–∏–µ –µ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ —Ä–µ–¥ –∏ –∑–∞–≤—ä—Ä—à–≤–∞ —Å—ä—Å `~`
--
* –ú–æ–∂–µ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ –≤–≥—Ä–∞–¥–µ–Ω–∏—Ç–µ help —Ñ–∞–π–ª–æ–≤–µ –∏–ª–∏ `$VIMRUNTIME/syntax/help.vim` –∑–∞ –æ—â–µ –¥—Ä–µ–±–Ω–∏ –Ω–µ—â–∞

---

# –î–∞ —Å–µ –≤—ä—Ä–Ω–µ–º –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è—Ç–∞ –∑–∞ –ø—Ä–æ–µ–∫—Ç–∏

* `:Emodel solution`
--
* `:Econtroller announcement`
--
* –ö–∞–∫ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º `:Efactory vimrc_revision`?

---

# –ö–∞–∫ –¥–∞ –Ω–∞–º–µ—Ä–∏–º factory?

–ú–æ–∂–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º —Å—ä—â–æ—Ç–æ, –Ω–æ –≤ –µ–¥–∏–Ω —Ñ–∞–π–ª –º–æ–∂–µ –¥–∞ –∏–º–∞ –Ω—è–∫–æ–ª–∫–æ factory-—Ç–∞:

```ruby
FactoryBot.define do
  factory :vimrc do
    user
  end

  factory :vimrc_revision do
    vimrc
    body { "set number\nset expandtab" }
  end
end
```

---

# –ö–∞–∫ –¥–∞ –Ω–∞–º–µ—Ä–∏–º factory?

1. –ù–∞–º–∏—Ä–∞–º–µ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
1. –ú–∏–Ω–∞–≤–∞–º–µ –ø—Ä–µ–∑ —Ä–µ–¥–æ–≤–µ—Ç–µ –Ω–∞ –≤—Å–µ–∫–∏ —Ñ–∞–π–ª
1. –ù–∞–º–∏—Ä–∞–º–µ `^\s*factory :\k\+` –∏–ª–∏ –Ω–µ—â–æ –ø–æ–¥–æ–±–Ω–æ

–¢—ä–ø–æ, –Ω–æ —Ç–æ—Ç–∞–ª–Ω–æ —Ä–∞–±–æ—Ç–∏

---

# Quickfix

–ù–∞–π-–ø—Ä–æ—Å—Ç–∏—è –Ω–∞—á–∏–Ω:

```vim
command! ListFactories call s:ListFactories()

function! s:ListFactories()
  vimgrep /^\s*factory :\zs\k\+/j spec/**/*.rb
  copen
endfunction
```

---

# Quickfix: –ë–∞–∑–æ–≤–∏ –Ω–µ—â–∞

* `:help grepprg` –∏ `:help grepformat` -- –≥–æ–≤–æ—Ä–∏–ª–∏ —Å–º–µ, –Ω–æ –ø—Ä–µ–¥–∏ –¥–æ—Å—Ç–∞ –≤—Ä–µ–º–µ
--
* –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞—Ç–∞ –ø—Ä–∏—á–∏–Ω–∞ –∑–∞ quickfix —Å–∞ `compiler` –ø–ª—ä–≥–∏–Ω–∏—Ç–µ.
    * `:help compiler`
--
    * `:help makeprg`
--
    * `:help errorformat`

---

# Quickfix

–ú–æ–∂–µ –¥–∞ –∏–∑–ø—ä–ª–Ω–∏–º "–∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä" —Å `make` –∏–ª–∏ –¥–∞–∂–µ `make some args`, –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ –º–æ–∂–µ –¥–∞ –µ –ª–æ–∫–∞–ª–µ–Ω –∑–∞ —Ñ–∞–π–ª–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª–µ–Ω –∑–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ù–æ —Ç–æ–≤–∞ –Ω–∏ –∑–∞—Ä–µ–∂–¥–∞ –≥—Ä–µ—à–∫–∏—Ç–µ –≤ quickfix –ø—Ä–æ–∑–æ—Ä–µ—Ü–∞.

--

–°—ä—â–æ—Ç–æ –ø—Ä–∞–≤–∏ –∏ vimgrep/grep. –¶–µ–ª—Ç–∞ –µ –ø—Ä–æ—Å—Ç–æ –¥–∞ –∑–∞—Ä–µ–¥–∏–º *–ª–æ–∫–∞—Ü–∏–∏* –≤ –Ω—è–∫–∞–∫—ä–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

# Quickfix

–ú–æ–∂–µ–º –∏ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º —Ç–∞–∫–∞ (`:help cexpr`)

```vim
cexpr systemlist('rg "factory :\w+" spec/ --vimgrep')
```

`cexpr` –∏–∑–ø–æ–ª–∑–≤–∞ `errorformat`, —Ç–∞–∫–∞ —á–µ –º–æ–∂–µ–º –∞–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ —Å–ª–æ–∂–∏–º –Ω–µ—â–æ custom –∫–∞—Ç–æ —Ñ–æ—Ä–º–∞—Ç –∏ –¥–∞ –≥–æ restore-–Ω–µ–º —Å–ª–µ–¥ —Ç–æ–≤–∞.

---

# Quickfix

–ù–∞–π-–≥—ä–≤–∫–∞–≤–∏—è –Ω–∞—á–∏–Ω: `:help setqflist()`

```vim
for filename in s:FindFactoryFiles()
  for [line_index, line] in items(readfile(filename))
    let pattern = '^\s*factory :\zs\k\+\ze\s*\%(,\|do\)'

    if line =~ pattern
      let [_match, start_index, _end_index] = matchstrpos(line, pattern)

      call add(factory_entries, #{
            \   filename: filename,
            \   lnum:     line_index + 1,
            \   col:      start_index + 1,
            \   text:     trim(line),
            \ })
    endif
  endfor
endfor

if len(factory_entries) > 0
  call setqflist(factory_entries)
  copen
endif
```

---

# Quickfix

Setqflist –∏–º–∞ —Ç–æ–Ω–æ–≤–µ –æ–ø—Ü–∏–∏, –ø–æ–≤–µ—á–µ—Ç–æ –æ—Ç –∫–æ–∏—Ç–æ –Ω–µ —Å—ä–º –ø—Ä–æ–±–≤–∞–ª:

--
* `setqflist(..., 'a')` —â–µ –¥–æ–±–∞–≤–∏ ("append") –Ω–µ—â–∞ –∫—ä–º —Å–ø–∏—Å—ä–∫–∞
--
* `:call setqflist([], 'a', {'id':qfid, 'efm': '%f#%l#%m', 'lines': ['F1#10#Line']})` —â–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞ –ø—ä—Ä–≤–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç –∏ —â–µ –∏–∑–ø–∞—Ä—Å–∏ "lines" —Å—ä—Å –¥–∞–¥–µ–Ω–∏—è "error format" –∏ —â–µ –≥–∏ –¥–æ–±–∞–≤–∏ –∫—ä–º —Å–ø–∏—Å—ä–∫–∞ —Å id `qfid` (–∫–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –≤–∑–µ–º–µ –æ—Ç `getqflist()`)
--
* –í –ø–æ—Å–ª–µ–¥–Ω–∏—è —Ä–µ—á–Ω–∏–∫ –º–æ–≥–∞—Ç –¥–∞ —Å–µ —Å–ª–æ–∂–∞—Ç `title` –∏ `quickfixtextfunc`, –∫–æ–∏—Ç–æ –¥–∞ –ø—Ä–æ–º–µ–Ω—è—Ç –∫–∞–∫ —Å–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ä–∞ —Å–ø–∏—Å—ä–∫–∞
--
* –ò–º–∞ –∏ `context` –ø–æ–ª–µ, –∫–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ –µ –∫–∞–∫—ä–≤—Ç–æ –∏ –¥–∞ –µ —Ä–µ—á–Ω–∏–∫ –∏–ª–∏ —Å–ø–∏—Å—ä–∫, –∫–æ–π—Ç–æ –¥—ä—Ä–∂–∏ –Ω—è–∫–∞–∫–≤–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

# Quickfix

`:help getqflist()`

–°—ä—â–æ—Ç–æ, –∞–º–∞ –∑–∞ —á–µ—Ç–µ–Ω–µ

```vim
ListFactories
for entry in getqflist() | echomsg string(entry) | endfor
```
```vim
{'lnum': 2, 'bufnr': 11, 'end_lnum': 0, 'pattern': '', 'valid': 1, 'vcol': 0, 'nr': 0, 'module': '', 'type': '', 'end_col': 0, 'col': 12, 'text':
'factory :announcement do'}
{'lnum': 2, 'bufnr': 12, 'end_lnum': 0, 'pattern': '', 'valid': 1, 'vcol': 0, 'nr': 0, 'module': '', 'type': '', 'end_col': 0, 'col': 12, 'text':
'factory :comment do'}
{'lnum': 2, 'bufnr': 13, 'end_lnum': 0, 'pattern': '', 'valid': 1, 'vcol': 0, 'nr': 0, 'module': '', 'type': '', 'end_col': 0, 'col': 12, 'text':
'factory :free_task_solution do'}
```

–ò –ø–∞–∫ –∏–º–∞ `context`, `title`, etc

---

# Quickfix

–ó–∞—â–æ —Å–ª–æ–∂–Ω–∏—Ç–µ `getqflist()`/`setqflist()` –≤–º–µ—Å—Ç–æ vimgrep/grep/cexpr?

--

–ó–∞—â–æ—Ç–æ —Å–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–∏—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–∏ —Ä–∞–±–æ—Ç—è—Ç —Å —Ä–µ—á–Ω–∏—Ü–∏ –∏ —Å–ø–∏—Å—ä—Ü–∏:

* <https://github.com/AndrewRadev/qftools.vim>
--
* <https://github.com/AndrewRadev/writable_search.vim>
--
* <https://github.com/AndrewRadev/quickpeek.vim>
--
    * –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∞–∫–æ –≤–∏ –µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ: https://www.youtube.com/watch?v=1AOhfnokacE

---

# Quickfix

–ó–∞ –∫–∞–∫–≤–æ –º–æ–∂–µ–º –¥–∞ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ?

* –ù–∞–º–µ—Ä–∏ —Å—Ä–µ—â–∞–Ω–∏—è –Ω–∞ —Å–∏–º–≤–æ–ª -- kind of –æ—á–µ–≤–∏–¥–Ω–æ, grep/ack/ripgrep —â–µ –Ω–∏ —Å–≤—ä—Ä—à–∏ —Ä–∞–±–æ—Ç–∞
--
* –ù–∞–º–µ—Ä–∏ –∫–æ–∏ —Ñ–∞–π–ª–æ–≤–µ import-–≤–∞—Ç —Ç–æ–∑–∏ —Ñ–∞–π–ª? –¢–æ–≤–∞ –≤–µ—á–µ –µ –º–∞–ª–∫–æ –ø–æ-–Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ
    * `cexpr system('find-imports ' .. shellescape(expand('%')))`
    * –†–∞–∑–±–∏—Ä–∞ —Å–µ, –º–æ–∂–µ –¥–∞ —Å–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ —Å Vim —Ä–µ–≥–µ–∫—Å–∏, –Ω–æ –º–æ–∂–µ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –Ω–∞ –∏–º–ø–æ—Ä—Ç–∏—Ç–µ –∫–∞—Ç–æ –ø–∞—Ä—Å–∏—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ Rust —Ñ–∞–π–ª–æ–≤–µ —Å—ä—Å [syn](https://docs.rs/syn/latest/syn/)
--
* –û—Ç–≤–æ—Ä–∏ –º–∏ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ/–ø–æ–∑–∏—Ü–∏–∏, —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å —Ç–µ–∫—É—â–∏—è -- —Ç–µ—Å—Ç, view, route, factory...
    * –ö–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ –µ –¥–æ–±—ä—Ä use case –∑–∞ `:help location-list`
--
* Bookmarks -- –º–æ–∂–µ –±–∏ –Ω–µ —Å—ä–≤—Å–µ–º –∑–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏, –Ω–æ:
    * <https://github.com/AndrewRadev/simple_bookmarks.vim>
    * <https://github.com/MattesGroeger/vim-bookmarks>

---

# –û—â–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

* –ß–µ—Å—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ `gf`, "go to file". –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–æ –µ –∑–∞ —Ñ–∞–π–ª–æ–ø–æ–¥–æ–±–Ω–∏ –Ω–µ—â–∞, –Ω–æ Tim Pope –≥–æ abuse-–≤–∞ –∫–∞—Ç–æ "–Ω–∞–º–µ—Ä–∏ —Ñ–∞–π–ª–∞ –Ω–∞ —Ç–æ–∑–∏ —Å–∏–º–≤–æ–ª" –≤—ä–≤ vim-rails.
--
* –ê–∑ –≥–æ –¥–æ-abuse-–≤–∞–º, –∫–∞—Ç–æ –¥–æ–±–∞–≤—è–º –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –∫—É—Ä—Å–æ—Ä–∞ –ø–æ—Å–ª–µ: <https://andrewra.dev/2016/03/09/building-a-better-gf-mapping/>
--
* –ù–∞—á–∏–Ω–∞, –ø–æ –∫–æ–π—Ç–æ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ —Å–µ –ø—Ä–∞–≤–∏ —Ç–æ–≤–∞ –µ —á—Ä–µ–∑ `:help includeexpr`, –Ω–æ –¥–æ—Å–∞–¥–µ–Ω –ø—Ä–æ–±–ª–µ–º –µ, —á–µ —Ç–æ —Å–µ trigger-–≤–∞ —Å–∞–º–æ –∞–∫–æ –≤–µ—á–µ –Ω—è–º–∞ —Ñ–∞–π–ª —Å —Ç–æ–≤–∞ –∏–º–µ.
    * Tim Pope –ø—Ä–æ—Å—Ç–æ —Å–∏ –ø—Ä–∞–≤–∏ –º–∞–ø–∏–Ω–≥–∏—Ç–µ –Ω–∞ —Ä—ä–∫–∞: [vim-rails](https://github.com/tpope/vim-rails/blob/959e94b76e6ebdf984acef61649ba7d0f62bd425/autoload/rails.vim#L4851-L4873)
--
* –í–∞–∂–Ω–∞ –±–µ–ª–µ–∂–∫–∞: –∏–∑–æ–±—â–æ –Ω–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –µ `gf`. –ú–æ–∂–µ –¥–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ `:FindTranslation`, `:FindImport` etc.

---

# –û—â–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

* –û—â–µ –ø—Ä–∏–º–µ—Ä–∏ –≤—ä–≤:
    * [rails_extra](https://github.com/AndrewRadev/rails_extra.vim/blob/main/autoload/rails_extra.vim#L3-L20)
    * [rustbucket](https://github.com/AndrewRadev/rustbucket.vim/blob/f62c3faf19f22bb0a84d60fc20c300dfbfa0a504/autoload/rustbucket/gf.vim#L1-L39)

--

–ö–∞—Ç–æ —Ü—è–ª–æ, –∞–∫–æ –∏–º–∞—Ç–µ –µ–∑–∏–∫ —Å –∏–º–ø–æ—Ä—Ç–∏ (rust, typescript, java), –≤–∏–Ω–∞–≥–∏ –º–æ–∂–µ –¥–∞ "–ø—Ä–æ—Å–ª–µ–¥–∏—Ç–µ" –∏–º–ø–æ—Ä—Ç–∏—Ç–µ. –ê–∫–æ –∏–º–∞—Ç–µ –µ–∑–∏–∫ –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∏ (ruby, vimscript), –≤–µ—Ä–æ—è—Ç–Ω–æ –∏–º–∞ –Ω—è–∫–∞–∫–≤–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è, –∫–æ—è—Ç–æ –º–æ–∂–µ –¥–∞ –ø–æ–ª–∑–≤–∞—Ç–µ. –ó–∞–¥–∞–π—Ç–µ —Å–∏ –≤—ä–ø—Ä–æ—Å–∞ "–∫–∞–∫ –±–∏—Ö –Ω–∞–º–µ—Ä–∏–ª —Ç–æ–≤–∞ –Ω–µ—â–æ –Ω–∞ —Ä—ä–∫–∞" –∏ –æ–ø–∏—Ç–∞–π—Ç–µ –¥–∞ –≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞—Ç–µ.

--

* –ò–º–∞ –∏ –¥—Ä—É–≥–∏ —Ö–∞–∫–æ–≤–µ, –∫–∞—Ç–æ [–¥–∞ –æ—Ç–≤–∞—Ä—è—Ç–µ –±—Ä–∞—É–∑—ä—Ä–∞ –∏ –¥–∞ —Ç—ä—Ä—Å–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ](https://github.com/tpope/vim-rails/blob/9c3c831a089c7b4dcc4ebd8b8c73f366f754c976/autoload/rails.vim#L2695-L2724)
* –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∑–∞ translations, –º–æ–∂–µ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ [rtranslate](https://github.com/AndrewRadev/rtranslate.vim), –∫–æ–¥–∞ –Ω–µ –µ –º–Ω–æ–≥–æ –∏ –º–æ–∂–µ –¥–∞ –≤–∏ –¥–∞–¥–µ –∏–¥–µ–∏
