---
title: –†–µ–≥–µ–∫—Å–∏ 1
author: –ê–Ω–¥—Ä–µ–π –†–∞–¥–µ–≤
speaker: –ê–Ω–¥—Ä–µ–π –†–∞–¥–µ–≤
date: 20 –∞–ø—Ä–∏–ª 2023
lang: bg
keywords: vim,fmi
slide-width: 80%
font-size: 20px
font-family: Cantarell, sans-serif
# code blocks color theme
code-theme: github
---

<style>
code {
    font-size: 100% !important;
    font-variant-ligatures: none;
}
</style>

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏ –Ω–µ—â–∞

* –ú–æ–∂–µ –¥–∞ —Å–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ vimrc-—Ç–∞ –≤ —Å–∞–π—Ç–∞: <https://vim-fmi.bg/profile/vimrc/edit>
* –ú–æ–∂–µ –¥–∞ –ø—É—Å–∫–∞—Ç–µ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Å—Ç–∞—Ä–∏ –∑–∞–¥–∞—á–∏: <https://vim-fmi.bg/free_tasks>

---

# –ü—Ä–µ–≥–æ–≤–æ—Ä

* –ê—É—Ç–æ–∫–æ–º–∞–Ω–¥–∏
--
* Filetypes
--
* Statusline
--
* Vimscript –≤ (–ø–æ–≤–µ—á–µ) –¥–µ—Ç–∞–π–ª–∏

---

# –†–µ–≥–µ–∫—Å–∏: –∏—Å—Ç–æ—Ä–∏—è

* "–†–µ–≥–µ–∫—Å–∏" (regex) –µ –Ω–µ—â–æ –∫–∞—Ç–æ "–†–µ–≥—É–ª—è—Ä–Ω–∏ –∏–∑—Ä–∞–∑–∏" (regular expressions) –Ω–æ –ø–æ–≤–µ—á–µ
--
* PCRE (Perl-compatible regular expressions) -- –Ω–∞–π-–ø–æ–ø—É–ª—è—Ä–Ω–∏
--
* –ó–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ, –ø—Ä–∏–º–µ—Ä–Ω–æ:
    * <https://regex101.com/>
    * <https://regexr.com/>
    * (–Ω–µ –Ω–∏ –≤—ä—Ä—à–∞—Ç —Ä–∞–±–æ—Ç–∞ –∑–∞ Vim, –æ–±–∞—á–µ ü•≤)
--
* –†–µ–≥–µ–∫—Å–∏—Ç–µ –Ω–∞ Vim –∏–¥–≤–∞—Ç –æ—Ç ed, –∫–æ–µ—Ç–æ –≤–¥—ä—Ö–Ω–æ–≤—è–≤–∞ sed –∏ Perl, –Ω–æ Perl –∏ Vim —Å–∏ –≤—ä—Ä–≤—è—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ (–Ω–æ –±–ª–∏–∑–∫–∏) –ø–æ—Å–æ–∫–∏

---

# –†–µ–≥–µ–∫—Å–∏: –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–µ–º

–ü—ä–ª–µ–Ω reference, –æ—Ç —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–æ —Å–ø–∏—Å—ä–∫ –Ω–∞ pattern-–∏—Ç–µ, –º–æ–∂–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –≤—ä–≤ `:help pattern.txt`. –ù–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –≥–∏ –ø–æ–º–Ω–∏—Ç–µ, –≤–∏–Ω–∞–≥–∏ –º–æ–∂–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Ü—è–ª–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç `^` –¥–æ `$`.

–°–ø–∏—Å—ä–∫–∞ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏ –∑–∞–ø–æ—á–≤–∞ –æ—Ç `:help pattern-overview`.

–¶–µ–ª—Ç–∞ –Ω–∞ –ª–µ–∫—Ü–∏—è—Ç–∞ –µ –ø–æ-—Å–∫–æ—Ä–æ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º–∏—Ç–µ –∏ –¥–∞ –≤–∏ –¥–∞–º –∞–∫—ä–ª –∫–æ–∏ –Ω–µ—â–∞ —Å–∞ –ø–æ–ª–µ–∑–Ω–∏ –∏ –∫–æ–∏ –Ω–µ —á–∞–∫ —Ç–æ–ª–∫–æ–≤–∞ (–∫–∞–∫—Ç–æ –≤—Å–∏—á–∫–∏ –ª–µ–∫—Ü–∏–∏, I guess). –° –≤—Ä–µ–º–µ—Ç–æ —â–µ –∏–∑–≥—Ä–∞–¥–∏—Ç–µ –∏–Ω—Ç—É–∏—Ü–∏—è.

---

# –†–µ–≥–µ–∫—Å–∏: –æ—Å–Ω–æ–≤–Ω–∏ –Ω–µ—â–∞

–¢—ä—Ä—Å–∏–º —à–∞–±–ª–æ–Ω–∏ —Å `/<pattern>`, –ø—Ä–∏–º–µ—Ä:

```
foo
fooooo
fo
f
foo+bar
foo*bar
foobar
```

* `/foo` -- –±—É–∫–≤–∞–ª–Ω–æ –ø–æ—Ä–µ–¥–∏—Ü–∞—Ç–∞ –æ—Ç —Å–∏–º–≤–æ–ª–∏ "foo"
    * –ø–æ–≤–µ—á–µ—Ç–æ –∞–∑–±—É—á–Ω–∏ —Å–∏–º–≤–æ–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–∞—Å–≤–∞—Ç as-is
--
* `/fo\+` -- –±—É–∫–≤–∞—Ç–∞ "f" –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∞ –æ—Ç –ø–æ–Ω–µ –µ–¥–Ω–æ "o", –∫–æ–ª–∫–æ—Ç–æ —Å–µ –º–æ–∂–µ –ø–æ–≤–µ—á–µ –ø—ä—Ç–∏
* `/foo+` -- "foo" –ø–æ—Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç "+"
    * —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–∞ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—Ç–∏ —Å `\`
--
* `/fo*` -- –±—É–∫–≤–∞—Ç–∞ "f" –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∞ –æ—Ç "o", –Ω—É–ª–∞ –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø—ä—Ç–∏
* `/foo\*` -- –±—É–∫–≤–∞—Ç–∞ "f" –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∞ –æ—Ç "\*"
    * –Ω—è–∫–æ–∏ —Å–∏–º–≤–æ–ª–∏ —Å–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –∏ `\` –≥–∏ –ø—Ä–∞–≤–∏ –Ω–æ—Ä–º–∞–ª–Ω–∏

---

# –†–µ–≥–µ–∫—Å–∏: –æ—Å–Ω–æ–≤–Ω–∏ –Ω–µ—â–∞

–ú–∞–ø–∏–Ω–≥–∞ `*` –¥–æ–±–∞–≤—è "word boundaries":

* "foo\&gt;" -- –î—É–º–∞—Ç–∞ `foo`, –Ω–æ —Å–∞–º–æ –∞–∫–æ –µ –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∞ –æ—Ç –Ω–µ-–¥—É–º–∞ -- `foo+bar` –¥–∞, `foobar` –Ω–µ.
* "\&lt;foo" -- –î—É–º–∞—Ç–∞ `foo`, –Ω–æ —Å–∞–º–æ –∞–∫–æ –µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤–∞–Ω–∞ –æ—Ç –Ω–µ-–¥—É–º–∞ -- `bar+foo` –¥–∞, `barfoo` –Ω–µ.
* "\&lt;foo\&gt;" -- –î—É–º–∞—Ç–∞ `foo`, —Å—Ç–∏–≥–∞ –¥–∞ –Ω–µ –µ —á–∞—Å—Ç –æ—Ç –¥—Ä—É–≥–∞ –¥—É–º–∞

---

# –†–µ–≥–µ–∫—Å–∏: –û—Å–Ω–æ–≤–Ω–∏ –Ω–µ—â–∞

* `.` -- –∫–∞–∫—ä–≤—Ç–æ –∏ –¥–∞ —Å–∏–º–≤–æ–ª, —Ç–æ—á–Ω–æ –µ–¥–∏–Ω
    * –ø—Ä–∏–º–µ—Ä–Ω–æ `example.com` —â–µ –º–∞—á–Ω–µ `example.com`, –Ω–æ —Å—ä—â–æ —Ç–∞–∫–∞ `example!com`
--
* `.*` -- –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –µ —Å–∏–º–≤–æ–ª–∏, –∫–æ–ª–∫–æ—Ç–æ —Å–µ –º–æ–∂–µ –ø–æ–≤–µ—á–µ, –º–æ–∂–µ –∏ –¥–∞ –Ω—è–º–∞ –Ω–∏–∫–∞–∫–≤–∏.
    * `".*"` —â–µ —Ö–≤–∞–Ω–µ –≤—Å–∏—á–∫–æ –≤ –¥–≤–æ–π–Ω–∏ –∫–∞–≤–∏—á–∫–∏. –ù–æ –µ greedy -- —â–µ match-–Ω–µ –∫–æ–ª–∫–æ—Ç–æ —Å–µ –º–æ–∂–µ –ø–æ–≤–µ—á–µ
--
* `.\+` -- —Å—ä—â–æ greedy, –ø–æ–Ω–µ –µ–¥–∏–Ω —Å–∏–º–≤–æ–ª
--
* `.\=` -- —Å—ä—â–æ greedy, 0 –∏–ª–∏ 1 —Å–∏–º–≤–æ–ª–∞ (—Ç.–µ. —Ç–æ–∑–∏ –µ–¥–∏–Ω —Å–∏–º–≤–æ–ª —â–µ –º–∞—á–Ω–µ –∞–∫–æ –≥–æ –∏–º–∞)
https://
    * –ü—Ä–∏–º–µ—Ä: `https\=://`
--
    * `\?` –ø—Ä–∞–≤–∏ —Å—ä—â–æ—Ç–æ: `https\?://` (–∑–∞ —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç —Å—ä—Å PCRE)

---

# –†–µ–≥–µ–∫—Å–∏: non-greedy –≤–∞—Ä–∏–∞–Ω—Ç–∏

`:help /\{` -- greedy

```
\{n,m}  n to m          as many as possible
\{n}    n               exactly
\{n,}   at least n      as many as possible
\{,m}   0 to m          as many as possible
\{}     0 or more       as many as possible (same as *)
```

--

`:help /\{-` -- non-greedy

```
\{-n,m} n to m          as few as possible
\{-n}   n               exactly
\{-n,}  at least n      as few as possible
\{-,m}  0 to m          as few as possible
\{-}    0 or more       as few as possible
```

---

# –†–µ–≥–µ–∫—Å–∏: non-greedy –≤–∞—Ä–∏–∞–Ω—Ç–∏

* `.\{-}` -- non-greedy –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∞ `.*`
    * `/".\{-}"` —â–µ –º–∞—á–Ω–µ –Ω–∏–∑–æ–≤–µ –º–∞–ª–∫–æ –ø–æ-–∞–¥–µ–∫–≤–∞—Ç–Ω–æ
* `.\{-1,}` -- –ø–æ–Ω–µ –µ–¥–∏–Ω, –º–æ–∂–µ –∏ –ø–æ–≤–µ—á–µ -- non-greedy `\+` (–µ–¥–≤–∞ –ª–∏ —â–µ –≥–æ –ø–æ–ª–∑–≤–∞—Ç–µ –º–Ω–æ–≥–æ)

---

# –†–µ–≥–µ–∫—Å–∏: –≥—Ä—É–ø–∏—Ä–∞–Ω–µ

* `\(foo\)\+` -- —Ü—è–ª–∞—Ç–∞ –≥—Ä—É–ø–∞ –º–µ–∂–¥—É `\(` –∏ `\)` –±–∏–≤–∞ –∞—Ñ–µ–∫—Ç–∏—Ä–∞–Ω–∞ –æ—Ç `\+`.
--
* `\%(foo\)\+` -- —Å—ä—â–æ—Ç–æ, –Ω–æ –≥—Ä—É–ø–∞—Ç–∞ –Ω–µ —Å–µ capture-–≤–∞ –∫–∞—Ç–æ subexpression, –ø–æ–≤–µ—á–µ –∑–∞ —Ç–æ–≤–∞ –ø–æ—Å–ª–µ
--
* `[abc]` -- –≤—Å–∏—á–∫–∏ —Å–∏–º–≤–æ–ª–∏ –º–µ–∂–¥—É `[` –∏ `]` –ø–∞—Å–≤–∞—Ç. `[abc]\+` —â–µ –º–∞—á–Ω–µ `abc`, `bca`, `aaaccbbabb`, etc
    * `:help /[]`
--
* `[a-zA-Z]` -- –≤—Å–∏—á–∫–∏ –±—É–∫–≤–∏, –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –Ω–∞ `\a`
* `[0-9]` -- –≤—Å–∏—á–∫–∏ —Ü–∏—Ñ—Ä–∏, –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –Ω–∞ `\d`
* `[0-9A-Za-z_]` -- "word characters", –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –Ω–∞ `\w`
* `:help \d` –∏ —á–µ—Ç–µ—Ç–µ –Ω–∞–¥–æ–ª—É
--
* `[–∞-—è]` -- —Ä–∞–±–æ—Ç–∏
--
* `[^abc]` -- –≤—Å–∏—á–∫–æ, –∫–æ–µ—Ç–æ *–Ω–µ –µ* –≤ —Å–∫–æ–±–∫–∏—Ç–µ –º–∞—á–≤–∞. T.e. `[^0-9]` —Å–∞ –Ω–µ-—Ü–∏—Ñ—Ä–∏
* `[abc^]` -- a, b, c, ^

---

# –†–µ–≥–µ–∫—Å–∏: —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –∫–ª–∞—Å–æ–≤–µ –æ—Ç —Å–∏–º–≤–æ–ª–∏

`:help /\i`

* `\k` -- –±—É–∫–≤–∞ –æ—Ç "–∫–ª—é—á–æ–≤–∞ –¥—É–º–∞", –∑–∞–≤–∏—Å–∏ –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ `:help 'iskeyword'`
--
    * –©–µ —Å—Ä–µ—â–∞—Ç–µ —Ç–æ–≤–∞ —á–µ—Å—Ç–æ. –ü—Ä–∏–º–µ—Ä–Ω–æ `let \k\+ =` -- –î–µ—Ñ–∏–Ω–∏—Ü–∏—è –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
    * (–ò–ª–∏ –º–æ–∂–µ –±–∏ `\<let\s\+\k\+\s*=`, –Ω–æ –¥–∞ –Ω–µ –∏–∑–ø–∞–¥–∞–º–µ –≤ –¥–µ—Ç–∞–π–ª–∏)
--
    * `iskeyword` —Å–µ —É–≤–∞–∂–∞–≤–∞ –∑–∞ —Ç–æ–Ω–æ–≤–µ –Ω–µ—â–∞: "expand('<cword>')", "\\<word\>", –∫–∞–∫–≤–æ –ª–∏ –æ—â–µ –Ω–µ. –ù–µ –µ –¥–æ–±—Ä–∞ –∏–¥–µ—è –¥–∞ –≥–æ –ø—Ä–æ–º–µ–Ω—è—Ç–µ (–Ω–æ –º–æ–∂–µ –¥–∞ –ø—Ä–æ–±–≤–∞—Ç–µ –∏ –¥–∞ –≤–∏–¥–∏—Ç–µ –∫–∞–∫–≤–æ —â–µ —Å–µ —Å—á—É–ø–∏)
--
* `\f` -- "—Å–∏–º–≤–æ–ª –æ—Ç —Ñ–∞–π–ª", –∑–∞–≤–∏—Å–∏ –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ `:help 'isfname'`
    * –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ `gf`, –Ω–æ –ø–æ-—Å–∫–æ—Ä–æ –Ω—è–º–∞ –¥–∞ —Ä–∞–∑—á–∏—Ç–∞–º–µ –Ω–∞ –Ω–µ–≥–æ –º–Ω–æ–≥–æ
--
* `\i` -- –±—É–∫–≤–∞ –æ—Ç "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä", –∑–∞–≤–∏—Å–∏ –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ `:help 'isident'`
* `\p` -- "–≤–∏–¥–∏–º —Å–∏–º–≤–æ–ª", –∑–∞–≤–∏—Å–∏ –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ `:help 'isprint'`. –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–±–æ–≤–µ, –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏, ctrl-–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –Ω–µ –≤–ª–∏–∑–∞—Ç —Ç—É–∫.
    * –¢–µ–∑–∏ –¥–≤–∞ –Ω–µ —Å—ä–º –≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–ª –Ω–∏–∫–æ–≥–∞, basically

---

# –†–µ–≥–µ–∫—Å–∏: —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –∫–ª–∞—Å–æ–≤–µ –æ—Ç —Å–∏–º–≤–æ–ª–∏

–í —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ `[]`, –∑–∞ –≥–æ–ª—è–º–∞ –¥–æ—Å–∞–¥–∞, character –∫–ª–∞—Å–æ–≤–µ –∫–∞—Ç–æ `\d` –∏–ª–∏ `\k` –Ω–µ —Ä–∞–±–æ—Ç—è—Ç. –ù–æ –∏–º–∞–º–µ `[:digit:]` –∏ `[:keyword:]`.

* –ß–∏—Å–ª–∞ –∏–ª–∏ —É–¥–∏–≤–∏—Ç–µ–ª–Ω–∞ –º–æ–∂–µ –¥–∞ –µ `\(\d\|!\)` –∏–ª–∏ `[[:digit:]!]`
* Keyword character –∏–ª–∏ —Ç–∏—Ä–µ–Ω—Ü–µ: `\(\k\|-\)` –∏–ª–∏ `[[:keyword:]-]`

–°–ø–∏—Å—ä–∫–∞ –∑–∞–ø–æ—á–≤–∞ –æ—Ç `:help [:alnum:]`

---

# –†–µ–≥–µ–∫—Å–∏: whitespace

* –ò–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Å–∏ –µ –Ω–æ—Ä–º–∞–ª–µ–Ω —Å–∏–º–≤–æ–ª, —Ç–∞–∫–∞ —á–µ `foo *` –æ–∑–Ω–∞—á–∞–≤–∞ "foo" –ø–æ—Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç ` *`, —Ç–æ–µ—Å—Ç 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏. –í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∏—Ç–µ!
--
* –ú–µ–≥–∞ —á–µ—Å—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ `\s`, –∫–æ–µ—Ç–æ –µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–ª–∏ —Ç–∞–±. –¢–∞–∫–∞ —Ö–≤–∞—â–∞ –≤—Å—è–∫–∞–∫–≤–∞ –∏–Ω–¥–µ–Ω—Ç–∞—Ü–∏—è –∏–ª–∏ –ø–æ–¥—Ä–∞–≤–Ω—è–≤–∞–Ω–µ.
--
* –ê–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ —Ö–≤–∞–Ω–µ–º –Ω–æ–≤ —Ä–µ–¥, –º–æ–∂–µ –¥–∞ –ø–æ–ª–∑–≤–∞–º–µ `\n`, –∫–æ–µ—Ç–æ –∫–∞—Ç–æ —Ä–µ–≥–µ–∫—Å *–±–∏ —Ç—Ä—è–±–≤–∞–ª–æ* –¥–∞ —Ä–∞–±–æ—Ç–∏ –∏ –Ω–∞ windows.
--
* –ö–æ–º–±–∏–Ω–∏—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç –µ `\_s`, –∫–æ–µ—Ç–æ –µ "whitespace –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –Ω–æ–≤ —Ä–µ–¥".
* –ü–æ–¥—á–µ—Ä—Ç–∞–≤–∫–∞—Ç–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞ *–≤—Å–µ–∫–∏* character class –¥–∞ –¥–æ–±–∞–≤–∏ "–Ω–æ–≤ —Ä–µ–¥". –ü—Ä–∏–º–µ—Ä–Ω–æ `\_.` –µ –∫–∞–∫—ä–≤—Ç–æ –∏ –¥–∞ –µ —Å–∏–º–≤–æ–ª, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –Ω–æ–≤ —Ä–µ–¥.
--
* –í —Ç–æ—è —Ä–µ–¥ –Ω–∞ –º–∏—Å–ª–∏, `^` –º–∞—á–≤–∞ –Ω–∞—á–∞–ª–æ –Ω–∞ —Ä–µ–¥, `$` –º–∞—á–≤–∞ –∫—Ä–∞–π. `^\s*$` —â–µ –º–∞—á–Ω–µ —Ü—è–ª —Ä–µ–¥, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Å–∞–º–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏ –∏–ª–∏ —Ç–∞–±–æ–≤–µ, –∏–ª–∏ –Ω–∏—â–æ.

---

# –†–µ–≥–µ–∫—Å–∏: backreference

–í–µ–¥–Ω—ä–∂ –∫–∞—Ç–æ —Å–º–µ –≥—Ä—É–ø–∏—Ä–∞–ª–∏ –Ω–µ—â–æ —Å `\(\)`, –º–æ–∂–µ–º –¥–∞ –≥–æ —Ä–µ—Ñ–µ—Ä–∏—Ä–∞–º–µ –∫–∞—Ç–æ `\1`, –≤—Ç–æ—Ä–∞—Ç–∞ —Ç–∞–∫–∞–≤–∞ –≥—Ä—É–ø–∞ –µ `\2`, etc. (–ì—Ä—É–ø–∞—Ç–∞ `\0` –µ —Ü–µ–ª–∏—è match, –∫–æ–µ—Ç–æ –µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –∑–∞ substitution-–∏ –ø–æ—Å–ª–µ.) –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ —Ç–æ–≤–∞ —Å–µ –Ω–∞—Ä–∏—á–∞ "subexpression", –¥—Ä—É–≥–∞—Ç–µ "submatch" –∏–ª–∏ "capture group".

--

–ó–∞ –¥–∞ –º–∞—á–Ω–µ–º —Å–∞–º–æ –º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤–∏—è –Ω–∏–∑, `\(\u\+\)\_.*\1`:

```
code = <<~EOF
  example_text
EOF

other_code = <<~SQL
  select * from users
SQL
```

--

- `\(\u\+\)` -- uppercase —Å–∏–º–≤–æ–ª–∏, –ø–æ–Ω–µ –µ–¥–∏–Ω, –∫–æ–ª–∫–æ—Ç–æ —Å–µ –º–æ–∂–µ –ø–æ–≤–µ—á–µ
- `\_.*` –∫–∞–∫–≤–æ—Ç–æ –∏ –¥–∞ –µ, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –Ω–æ–≤ —Ä–µ–¥
- `\1` —Å—ä—â–∏—è –Ω–∏–∑, —Ö–≤–∞–Ω–∞—Ç –≤ –ø—ä—Ä–≤–∞—Ç–∞ –≥—Ä—É–ø–∞

---

# –†–µ–≥–µ–∫—Å–∏: branching

`:help pattern` -- `\|`, `\&`

* `foo\|bar` -- –∏–ª–∏ "foo", –∏–ª–∏ "bar", –∏ –¥–≤–µ—Ç–µ –º–∞—á–≤–∞—Ç.
--
* `foo\|barbaz` -- "foo" –∏–ª–∏ "barbaz"
* `\(foo\|bar\)baz` -- "foo" –∏–ª–∏ "bar", –ø–æ—Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç "baz"
--
* `\&` –µ "–æ–±—Ä–∞—Ç–Ω–æ—Ç–æ" –Ω–∞ `\|`, –∏ –¥–≤–∞—Ç–∞ —Ä–µ–≥–µ–∫—Å–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –º–∞—á–≤–∞—Ç –Ω–∞ –µ–¥–Ω–æ –∏ —Å—ä—â–æ –º—è—Å—Ç–æ
--
* –û—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞: `".*Peter\&.*Bob" matches in a line containing both "Peter" and "Bob"`
--
* ... –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω—è–º–∞ –¥–∞ –≥–æ –ø–æ–ª–∑–≤–∞—Ç–µ, –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —â–µ –∏–º–∞ –ø–æ-–≥—ä–≤–∫–∞–≤–∏ –Ω–∞—á–∏–Ω–∏ –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ —Ç–æ–≤–∞

---

# Magic

`:help magic`

* –í–µ—Ä–æ—è—Ç–Ω–∏—è –∏–∑—Ç–æ—á–Ω–∏–∫ –Ω–∞ –∏–º–µ—Ç–æ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞: <http://www.jargon.net/jargonfile/a/AStoryAboutMagic.html>

---

# Magic: very magic

Very magic mode: –ó–∞–ø–æ—á–≤–∞ —Å—ä—Å `\v`

* –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω ("magic") —Ä–µ–≥–µ–∫—Å: `\(foo\|bar\)baz[!?]\=` -- "foo" –∏–ª–∏ "bar", –ø–æ—Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç baz –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–∞ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è
--
* Very magic: `\v(foo|bar)baz[!?]=`
--

```
Use of "\v" means that after it, all ASCII characters except '0'-'9', 'a'-'z',
    'A'-'Z' and '_' have special meaning: "very magic"
```

---

# Magic: very magic

* –ü—Ä–µ–¥–∏–º—Å—Ç–≤–æ: –∞–∫–æ –ø–∏—à–µ—Ç–µ –Ω—è–∫–∞–∫—ä–≤ –ø–æ-—Å–ª–æ–∂–µ–Ω —Ä–µ–≥–µ–∫—Å, –º–æ–∂–µ –¥–∞ –µ –¥–æ—Å—Ç–∞ –ø–æ-—á–µ—Ç–∏–º –∏ –ª–µ—Å–µ–Ω –∑–∞ –ø–∏—Å–∞–Ω–µ
* –ù–µ–¥–æ—Å—Ç–∞—Ç—ä–∫: –∞–∫–æ —Ç—ä—Ä—Å–∏—Ç–µ –Ω–µ—â–æ –ø—Ä–æ—Å—Ç–æ, –º–æ–∂–µ –¥–∞ –≤–∏ —Å–ø—ä–Ω–µ, –ø—Ä–∏–º–µ—Ä–Ω–æ
    * `\vfunction_call(` —â–µ –≥—Ä—ä–º–Ω–µ
    * `\vlet \k+ =` –Ω—è–º–∞ –¥–∞ –º–∞—á–Ω–µ `=` –Ω–∞–∫—Ä–∞—è

---

# Magic: very NOmagic

Very nomagic mode: –ó–∞–ø–æ—á–≤–∞ —Å—ä—Å `\V`

```
Use of "\V" means that after it, only a backslash and the terminating
character (usually / or ?) have special meaning: "very nomagic"
```

--

* –ê–∫–æ –∏–º–∞–º–µ –Ω—è–∫–∞–∫—ä–≤ –±—É–∫–≤–∞–ª–µ–Ω —Ç–µ–∫—Å—Ç, —Ç–æ–≤–∞ –µ —Å—É–ø–µ—Ä –Ω–∞—á–∏–Ω –¥–∞ —Å–µ –ø–æ–¥—Å–∏–≥—É—Ä–∏–º, —á–µ –Ω—è–º–∞ –¥–∞ –∏–º–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏ –≤ –Ω–µ–≥–æ.
--

```vim
let user_input = input("Search for a string: ")
exe '/\V' .. escape(user_input, '/\')
```

--

–∏–ª–∏,

```vim
let user_input = input("Search for a string: ")
call search('\V' .. escape(user_input, '\'))
```

---

# Magic: nomagic

`:help 'nomagic'` -- –ø—Ä–æ—Å—Ç–æ –Ω–µ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ. –ö–∞—Ç–æ "very nomagic", –Ω–æ `$` –µ —Å–ø–µ—Ü–∏–∞–ª–µ–Ω —Å–∏–º–≤–æ–ª.

---

# Magic: –æ–±–æ–±—â–µ–Ω–∏–µ

* Magic mode (`\m`) -- default, –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –∏ –Ω–µ-—Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–∏–º–≤–æ–ª–∏
* Nomagic mode (`\M`) -- –∏–≥–Ω–æ—Ä–∏—Ä–∞–π—Ç–µ
--
* Very magic mode (`\v`) -- –ø–æ-–ª–µ—Å–µ–Ω –Ω–∞—á–∏–Ω –¥–∞ –≤—ä–≤–µ–∂–¥–∞—Ç–µ –ø–æ-—Å–ª–æ–∂–Ω–∏ –∏–∑—Ä–∞–∑–∏.
    * –ù—è–∫–æ–∏ —Ö–æ—Ä–∞ —Å–∏ –ø—Ä–∞–≤—è—Ç `nnoremap / /\v`, –Ω–æ —Å–ø–æ—Ä–µ–¥ –º–µ–Ω –Ω–µ —Å–∏ –∑–∞—Å–ª—É–∂–∞–≤–∞
* Very nomagic mode (`\V`) -- –∑–∞ –≤—Ö–æ–¥ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Ç—Ä–µ—Ç–∏—Ä–∞ –±—É–∫–≤–∞–ª–Ω–æ
--
* –ú–æ—è—Ç–∞ –ø—Ä–µ–ø–æ—Ä—ä–∫–∞ -- –Ω–∞—É—á–µ—Ç–µ —Å–∏ –∏ —Å–∏ –ø–æ–ª–∑–≤–∞–π—Ç–µ default-–Ω–∏—è magic mode, –∏–º–∞–π—Ç–µ very nomagic –ø—Ä–µ–¥–≤–∏–¥, –∫–æ–≥–∞—Ç–æ –±–æ—Ä–∞–≤–∏—Ç–µ —Å –ª–∏—Ç–µ—Ä–∞–ª–Ω–∏ –Ω–∏–∑–æ–≤–µ.
* (–ê –∞–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ very magic –∑–∞ —É–¥–æ–±—Å—Ç–≤–æ, —Å–∏–º–≤–æ–ª–∏—Ç–µ —Å–∞ —Å—ä—â–∏—Ç–µ anyway, –ø—Ä–æ—Å—Ç–æ —Å –ø–æ-–º–∞–ª–∫–æ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏ —á–µ—Ä—Ç–∏)
* (–ú–æ–∂–µ –¥–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –º–∞–ø–∏–Ω–≥, –∫–æ–π—Ç–æ –º–∞—Ö–∞ –∏–ª–∏ —Å–ª–∞–≥–∞ `\v`... –º–æ–∂–µ –±–∏ —â–µ —Å–∏ –ø–æ–∏–≥—Ä–∞–µ–º –ø–æ-–Ω–∞—Ç–∞—Ç—ä–∫)

---

# Syntax highlighting

--
`:help syn-define`, –¥–æ—Å—Ç–∞ —á–µ—Ç–µ–Ω–µ. –¶–µ–Ω—Ç—Ä–∞–ª–Ω–∏—Ç–µ —Ç—Ä–∏ –∫–æ–º–∞–Ω–¥–∏:

--
```vim
syntax keyword {name} <keyword1> <keyword2> ...
```

—Å–∞–º–æ –µ–¥–Ω–∞ –¥—É–º–∞, –∏ —Ç–æ —Å–∞–º–æ —Ç–∞–∫–∞–≤–∞, —á–∏–∏—Ç–æ —Å–∏–º–≤–æ–ª–∏ —Å–∞ –≤—ä–≤ `'iskeyword'` –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞.
--
```vim
syntax match {name} /<regex>/
```

–†–µ–≥–µ–∫—Å–∞ –º–æ–∂–µ –¥–∞ –µ –æ–≥—Ä–∞–¥–µ–Ω –≤ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏, –Ω–µ —Å–∞–º–æ `//`
--
```vim
syntax region {name} start=/<regex>/ end=/<regex>/
```

–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ –º–æ–∂–µ –¥–∞ —Å–µ –ø–æ–¥–∞–¥–µ –∏ `skip=/<regex>/`

---

# –ü—Ä–∏–º–µ—Ä–∏ –æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞:

* `syntax keyword`:

    ```vim
    syntax keyword Type int long char
    syntax keyword vimCommand ab[breviate] n[ext]`
    ```
--

* `syntax match`:

    ```vim
    syntax match Character /'.'/hs=s+1,he=e-1
    ```
    * –ö–∞–∫–≤–æ –µ `hs=...`? –í–∏–∂—Ç–µ `:help syn-pattern-offset`
--

* `syntax region`:

    ```vim
    syntax region String start=+"+ skip=+\\"+ end=+"+
    ```
    * –ó–∞–±–µ–ª–µ–∂–µ—Ç–µ: delimiter-–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ —Å–∞ –∫–∞–∫—ä–≤—Ç–æ –∏ –¥–∞ –µ –µ–¥–∏–Ω —Å–∏–º–≤–æ–ª

---

# –ü—Ä–∏–º–µ—Ä–∏ –æ—Ç `$VIMRUNTIME/syntax/javascript.vim`

```vim
syntax keyword javaScriptCommentTodo TODO FIXME XXX TBD contained

syntax match javaScriptLineComment "\/\/.*" contains=@Spell,javaScriptCommentTodo
syntax region javaScriptComment start="/\*" end="\*/" contains=@Spell,javaScriptCommentTodo

syntax region javaScriptEmbed start=+${+ end=+}+ contains=@javaScriptEmbededExpr
```

---

# Syntax debugging: `synID`

–°–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∞—Ç–∞ –≥—Ä—É–ø–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–∞:

```vim
let syn_id = synID(line('.'), col('.'), 0)
" (–ø–æ—Å–ª–µ–¥–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–µ –¥–∞ –µ 1, –∞–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ –∏–≥–Ω–æ—Ä–∏—Ä–∞–º–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–∏ –≥—Ä—É–ø–∏)

let syn_name = synIDattr(syn_id, "name")
" –ü—Ä–∏–º–µ—Ä–Ω–æ: vimComment
```
--

–í—Å–∏—á–∫–∏ stack-–Ω–∞—Ç–∏ –≥—Ä—É–ø–∏ –Ω–∞ –∫—É—Ä—Å–æ—Ä–∞:

```vim
let syn_ids = synstack(line('.'), col('.'))
let syn_names = mapnew(syn_ids, {_, id -> synIDattr(id, "name") })
" { x, y -> ... } -- –∞–Ω–æ–Ω–∏–º–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞, x –∏ y

" –¢–æ–≤–∞ —Å—ä—â–æ —Ä–∞–±–æ—Ç–∏;
let syn_names = mapnew(syn_ids, 'synIDattr(v:val, "name")')
```

---

# Syncing

–û—Ç–∫—ä–¥–µ —Å–µ –ø–æ—á–≤–∞ –¥–∞ —Å–µ highlight-–≤–∞?

--
* –ü–æ default: –æ—Ç –Ω–∞–π-–≥–æ—Ä–Ω–∏—è –≤–∏–¥–∏–º —Ä–µ–¥. –í—Å–∏—á–∫–æ —Å–µ –∫–µ—à–∏—Ä–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω–æ, —Ç–∞–∫–∞ —á–µ —Å–ª–µ–¥ –ø—ä—Ä–≤–∏—è highlight, –ø—Ä–æ–º–µ–Ω–∏ –ø–æ —Å—Ä–µ–¥–∞—Ç–∞ –Ω–∞ –±—É—Ñ–µ—Ä–∞ —Å–∞ —Ç—Ä–∏–≤–∏–∞–ª–Ω–∏
    * –¢–æ–≤–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Å—á—É–ø–∏ –∞–∫–æ –Ω–∞–π-–≥–æ—Ä–Ω–∏—è —Ä–µ–¥ –µ –ø–æ —Å—Ä–µ–¥–∞—Ç–∞ –Ω–∞ –º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä –ø—Ä–∏–º–µ—Ä–Ω–æ
    * –ü–æ—á—Ç–∏ –Ω–∏–∫–æ–π filetype –Ω–µ –æ—Å—Ç–∞–≤—è —Ç–æ–∑–∏ default, –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –ø–æ–ª–∑–≤–∞ `minlines`
--
* –ù–∞–π-—Å–∏–≥—É—Ä–Ω–∏—è –Ω–∞—á–∏–Ω: `syn sync fromstart` —â–µ –Ω–∞–∫–∞—Ä–∞ Vim –¥–∞ –∑–∞–ø–æ—á–Ω–µ –æ—Ç –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ –±—É—Ñ–µ—Ä–∞ –∏ –¥–∞ highlight-–≤–∞ –æ—Ç—Ç–∞–º. –¢–æ–≤–∞ –æ–±–∞—á–µ scale-–≤–∞ —Å —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –±—É—Ñ–µ—Ä–∞. –ü–∞–∫ –µ –∫–µ—à–∏—Ä–∞–Ω–æ, —Ç–∞–∫–∞ —á–µ —Ä–µ–∞–ª–Ω–æ —Ç–æ–≤–∞ —â–µ –µ –±–∞–≤–Ω–æ —Å–∞–º–æ –ø—ä—Ä–≤–∏—è –ø—ä—Ç.
    * –ù–∏–∫–æ–π filetype –Ω–µ –ø—Ä–∞–≤–∏ —Ç–æ–≤–∞ :). –ù–æ –º–æ–∂–µ –¥–∞ –≥–æ –Ω–∞–ø—Ä–∞–≤–∏–º –Ω–∞ —Ä—ä–∫–∞ –≤ —Å–ª—É—á–∞–π –Ω–∞ –Ω—É–∂–¥–∞
--
* –†—É–±–∏ –∏–∑–ø–æ–ª–∑–≤–∞ `syn sync minlines=500`, –ø–æ–≤–µ—á–µ—Ç–æ –≤–≥—Ä–∞–¥–µ–Ω–∏ –µ–∑–∏—Ü–∏ –ø–æ–ª–∑–≤–∞—Ç –º–µ–∂–¥—É 50 –∏ 1000 —Ä–µ–¥–∞. –¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞ "–∑–∞–ø–æ—á–Ω–∏ –æ—Ç –ø–æ–Ω–µ —Ç–æ–ª–∫–æ–≤–∞ —Ä–µ–¥–∞ –Ω–∞–≥–æ—Ä–µ" –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è.
    * `syn sync maxlines=` -- –∞–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–º –±—Ä–æ—è —Ä–µ–¥–æ–≤–µ –Ω–∞–≥–æ—Ä–µ –∑–∞—â–æ—Ç–æ —Å–º–µ –Ω–∞ –±–∞–≤–Ω–∞ –º–∞—à–∏–Ω–∞.
    * –ü–∞–∫, –≤—Å–∏—á–∫–æ –µ —Å–∏–ª–Ω–æ –∫–µ—à–∏—Ä–∞–Ω–æ –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ—Ç–æ –∑–∞–±–∞–≤—è–Ω–µ –µ –ø—Ä–∏ –ø—ä—Ä–≤–æ –æ—Ç–≤–∞—Ä—è–Ω–µ
--
* `syn sync match` - –ø–æ-—Å–ª–æ–∂–µ–Ω –º–µ—Ç–æ–¥, —É–∫–∞–∑–≤–∞ —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∞ –≥—Ä—É–ø–∞, –∫–æ—è—Ç–æ —Å–µ –∑–Ω–∞–µ, —á–µ –∑–∞–ø–æ—á–≤–∞ –∏–ª–∏ –∑–∞–≤—ä—Ä—à–≤–∞ –º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤ match. `:help syn-sync-fourth`. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `syn sync` –≤—ä–≤ vimscript —Ñ–∞–π–ª –ø—Ä–∏–º–µ—Ä–Ω–æ.

---

# Syncing

–û—Ç–∫—ä–¥–µ —Å–µ –ø–æ—á–≤–∞ –¥–∞ —Å–µ highlight-–≤–∞?

* –í—Å–∏—á–∫–æ —Ç–æ–≤–∞ –Ω–∞ –≤–∞—Å –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω—è–º–∞ –¥–∞ –≤–∏ —Ç—Ä—è–±–≤–∞. –ù–æ –º–æ–∂–µ –¥–∞ –≥–æ –ø—Ä–æ—á–µ—Ç–µ—Ç–µ –æ—Ç –∏–Ω—Ç–µ—Ä–µ—Å –∫–∞–∫ —Ä–∞–±–æ—Ç–∏ –∏ –º–æ–∂–µ –¥–∞ –≥—Ä–µ–ø–Ω–µ—Ç–µ –∏–∑ vim runtime files –∑–∞ –Ω–∏–∑–∞ "syn sync" –∏ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ –∫–∞–∫ —Å–µ –ø—Ä–∞–≤—è—Ç –Ω–µ—â–∞—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ filetypes.
* In general, syntax highlighting-a Just Works. –ù–æ –∞–∫–æ —Å–µ –æ–∑–æ–≤–µ—Ç–µ –≤—ä–≤ —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –µ highlight-–Ω–∞—Ç –∫–∞—Ç–æ –Ω–∏–∑ –∏–ª–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä, —É–¥–∞—Ä–µ—Ç–µ –µ–¥–∏–Ω `syn sync fromstart`, –∏–ª–∏ —Å–∏ –≥–æ –Ω–∞–ø—Ä–∞–≤–µ—Ç–µ –Ω–∞ –º–∞–ø–∏–Ω–≥.

---

# Highlighting

–ü—Ä–æ—Å—Ç–æ –≤—Ä—ä–∑–≤–∞–º–µ filetype-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏—Ç–µ –≥—Ä—É–ø–∏ —Å "–≥–ª–æ–±–∞–ª–Ω–∏—Ç–µ":

```vim
highlight link javaScriptComment Comment
" –ó–∞ –∫—Ä–∞—Ç–∫–æ:
hi link javaScriptComment Comment
" –ê–∫–æ –Ω—è–∫–æ–π —Ä–µ—à–∏ –¥–∞ –ª–∏–Ω–∫–Ω–µ *–ø—Ä–µ–¥–∏* —Ç–æ–≤–∞:
hi default link javaScriptComment Comment
```

–°–ø–∏—Å—ä–∫ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –≥—Ä—É–ø–∏, –∫–æ–∏—Ç–æ –Ω–µ —Å–∞ filetype-specific: `:help highlight-groups`. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–∞—Ç–æ "Comment", "String" etc —Å–µ –≥–ª–µ–¥–∞—Ç –æ—Ç –Ω—è–∫–æ—è —Ü–≤–µ—Ç–æ–≤–∞ —Å—Ö–µ–º–∞.

–ü–æ–≤–µ—á–µ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ –ª–µ–∫—Ü–∏—è.

---

# Highlighting: Images

–ù—è–º–∞ –º–∞–≥–∏—è, –ø—Ä–æ—Å—Ç–æ —É—Å—ä—Ä–¥–∏–µ: <https://github.com/tpope/vim-afterimage>

---

# Substitute

–í–∏–∂–¥–∞–ª–∏ —Å–º–µ –≥–æ –∏ –ø—Ä–µ–¥–∏: `:s/{pattern}/{string}/[flags]`

* `%s/foo/bar/g` -- –∑–∞–º–µ—Å—Ç–∏ –≤ —Ü–µ–ª–∏—è –±—É—Ñ–µ—Ä "foo" —Å—ä—Å "bar", "g" –æ–∑–Ω–∞—á–∞–≤–∞ –≤—Å–∏—á–∫–∏ match-–æ–≤–µ –Ω–∞ —Ä–µ–¥–∞
--
* `3,4s/foo/bar/g` -- –∑–∞–º–µ—Å—Ç–∏ —Å–∞–º–æ –æ—Ç —Ä–µ–¥–æ–≤–µ 3 –¥–æ 4
--
* `s/foo/bar/g` -- –∑–∞–º–µ—Å—Ç–∏ —Å–∞–º–æ –Ω–∞ —Ç–µ–∫—É—â–∏—è —Ä–µ–¥

---

# Substitute: Backreferences

–†–∞–∑–º–µ–Ω—è–º–µ –ø—ä—Ä–≤–∞—Ç–∞ –∏ –≤—Ç–æ—Ä–∞—Ç–∞ capture-–Ω–∞—Ç–∞ –≥—Ä—É–ø–∞:

```vim
%s/"\(.*\)" => "\(.*\)"/\2 => \1/g
```

---

# Substitute: Backreferences

Uppercase-–≤–∞–º–µ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –≤ –∫–∞–≤–∏—á–∫–∏—Ç–µ:

```vim
%s/=> "\zs.*\ze"/\=toupper(submatch(0))/g
```

* `\zs` –∏ `\ze` –Ω–µ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏, –Ω–æ —Å–∞ –º–µ–≥–∞ —É–¥–æ–±–µ–Ω —Ç—Ä–∏–∫
* `:help \zs`
* `:help sub-replace-expression`
--

```vim
%s/=> "\zs.*\ze"/\U\0/g
```
—Å—ä—â–æ —Ä–∞–±–æ—Ç–∏ –±–µ–∑ expression register -- `:help sub-replace-special`

---

# Substitute: Backreferences

–†–∞–∑–±–∏–≤–∞ —Ä–µ–¥–∞ -- *–Ω–µ* `\n`

```vim
%s/=> ".*"/\r\0/g
```

---

# Substitute: –¢—Ä–∏–∫–æ–≤–µ

* `s//<replacement>/g` -- –∑–∞–º–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ–¥–Ω–æ—Ç–æ –Ω–µ—â–æ –≤ search history
* `s/<pattern>/~/g` -- –∑–∞–º–µ—Å—Ç–≤–∞ pattern-–∞ —Å—ä—Å –ø–æ—Å–ª–µ–¥–Ω–∏—è replacement
* `s/<pattern>/<replacement>/&` -- –°—ä—â–∏—Ç–µ —Ñ–ª–∞–≥–æ–≤–µ –∫–∞—Ç–æ –ø—Ä–µ–¥–Ω–∏—è substitution
--
* `s/<pattern>/<substitution>/gc` -- "c" —Ñ–ª–∞–≥–∞ –ø–∏—Ç–∞ –∑–∞ confirmation, "i" –∏–≥–Ω–æ—Ä–∏—Ä–∞ case.
    * `:help :s_flags` –∑–∞ –¥–æ—Å—Ç–∞ –¥—Ä—É–≥–∏

---

# Global

```vim
g/<pattern>/<cmd>
```

"–ö–æ–º–∞–Ω–¥–∞—Ç–∞" –µ –∫–∞–∫–≤–∞—Ç–æ –∏ –¥–∞ –µ –∫–æ–º–∞–Ω–¥–∞ –≤ –Ω–æ—Ä–º–∞–ª–µ–Ω —Ä–µ–∂–∏–º. –ó–∞–±–µ–ª–µ–∂–µ—Ç–µ —á–µ –∑–∞ —Ä–∞–∑–ª–∏–∫–∞ –æ—Ç `:substitute`, –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ —Å–µ –ø—Ä–∏–ª–∞–≥–∞ –≤—ä—Ä—Ö—É —Ü–µ–ª–∏—è —Ñ–∞–π–ª (–∑–∞—Ç–æ–≤–∞ –µ "global"). –ù–æ –ø–∞–∫ –ø—Ä–∏–µ–º–∞ range.

–ß–µ—Å—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ "p", –∫—Ä–∞—Ç–∫–æ –æ—Ç "print"

* `g/^\s*:\k\+/p` -- –ø–µ—á–∞—Ç–∞ –≤—Å–∏—á–∫–∏ —Ä–µ–¥–æ–≤–µ, –∫–æ–∏—Ç–æ –∑–∞–ø–æ—á–≤–∞—Ç —Å `:` –ø–æ—Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç keyword characters
--
* `g//d` -- –∏–∑—Ç—Ä–∏–≤–∞ (–∫–æ–º–∞–Ω–¥–∞—Ç–∞ –µ :delete) –≤—Å–∏—á–∫–∏ —Ä–µ–¥–æ–≤–µ, –∫–æ–∏—Ç–æ –ø–∞—Å–≤–∞—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—è search/substitute/global etc.
--
* `g//normal! >>` -- –∏–Ω–¥–µ–Ω—Ç–∏—Ä–∞ –≤—Å–∏—á–∫–∏ –º–∞—á–≤–∞—â–∏ —Ä–µ–¥–æ–≤–µ
--
* `g!//normal! >>` -- –∏–Ω–¥–µ–Ω—Ç–∏—Ä–∞ –≤—Å–∏—á–∫–∏ —Ä–µ–¥–æ–≤–µ, –∫–æ–∏—Ç–æ *–Ω–µ* –º–∞—á–≤–∞—Ç
* `v//normal! >>` -- —Å—ä—â–æ—Ç–æ

---

# –ö–∞–∫ –¥–∞ —É–ø—Ä–∞–∂–Ω—è–≤–∞—Ç–µ —Ä–µ–≥–µ–∫—Å–∏?

* –©–µ —Ä–∞–∑–≥–ª–µ–∂–¥–∞–º–µ –ø–ª—ä–≥–∏–Ω–∏, —â–µ –≥–∏ –ø–æ–ª–∑–≤–∞–º–µ –¥–æ—Å—Ç–∞, —â–µ –∏–º–∞—Ç–µ —à–∞–Ω—Å
--
* –í –∏–¥–≤–∞—â–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å—ä–º –ø–æ–¥–≥–æ—Ç–≤–∏–ª `:substitute`-friendly –∑–∞–¥–∞—á–∫–∏
--
* –ú–æ–∂–µ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ –≤ –¥–µ—Ç–∞–π–ª–∏ [javascript syntax —Ñ–∞–π–ª–∞](https://github.com/vim/vim/blob/be9624eb47ff4db4f068c65ad9cd37b14d1818a8/runtime/syntax/javascript.vim)
--
* –ê–∫–æ —Å—Ç–µ –æ—Å–æ–±–µ–Ω–æ —Å–º–µ–ª–∏, –º–æ–∂–µ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ [ruby syntax —Ñ–∞–π–ª–∞](https://github.com/vim/vim/blob/be9624eb47ff4db4f068c65ad9cd37b14d1818a8/runtime/syntax/ruby.vim)... –ù–æ –Ω–µ —Å–º–µ –≥–æ–≤–æ—Ä–∏–ª–∏ –∑–∞ –¥–æ—Å—Ç–∞ –æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞—Ç —Ç–∞–º (negative lookbehind –ø—Ä–∏–º–µ—Ä–Ω–æ)
--
* –ú–æ–∂–µ –¥–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ syntax highlighting –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω filetype, –ø—Ä–∏–º–µ—Ä–Ω–æ `*.notes`
